@prefix rml: <http://semweb.mmlab.be/ns/rml#>.
@prefix ql: <http://semweb.mmlab.be/ns/ql#>.          
@prefix rr: <http://www.w3.org/ns/r2rml#>.
@prefix ex: <http://example.com/ns#>.
@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.
@base <http://example.com/ns#>.


<#LocationMapping_CSV>
    rml:logicalSource [
        rml:source "./examples/data/file-1.csv" ;
        rml:referenceFormulation ql:CSV
    ];
    rr:subjectMap [
        rr:template "http://loc.example.com/latlong/{latitude},{longitude}";
        rr:graphMap [ rr:constant ex:StopsGraph ];
    ];
    rr:predicateObjectMap [
        rr:predicate ex:lat;
        rr:objectMap [
            rml:reference "latitude" 
        ]
    ];
    rr:predicateObjectMap [
        rr:predicate ex:long;
        rr:objectMap [
            rml:reference "longitude"
        ]
    ].
    rr:predicateObjectMap [
        rr:predicate ex:id;
        rr:objectMap [
            rml:reference "id"
        ]
    ].

<#Airport> a rr:TriplesMap;
  rml:logicalSource [
    rml:source "./examples/data/file-1.csv" ;
    rml:referenceFormulation ql:CSV;
  ];
  rr:subjectMap [
    rr:template "http://trans.example.com/airport/{id}";
  ];
  rr:predicateObjectMap [
    rr:predicate ex:located;
    rr:objectMap [
      rr:parentTriplesMap <#LocationMapping_CSV>;
      rr:joinCondition [
        rr:child "city";
        rr:parent "city";
      ];
    ];
  ].
